<?xml version="1.0" encoding="UTF-8"?>
<root>
    <vertex-descriptor key="common_vertex_descriptor">
        <vertex-attribute-descriptors>
            <vertex-attribute-descriptor name="pos"   format="Float4" offset="0" buffer-index="0" />
            <vertex-attribute-descriptor name="rgba"  format="Float4" offset="16" buffer-index="0" />
            <vertex-attribute-descriptor name="tex"   format="Float2" offset="32" buffer-index="0" />
            <vertex-attribute-descriptor name="extra" format="Float2" offset="40" buffer-index="0" />
        </vertex-attribute-descriptors>
        
        <vertex-buffer-layout-descriptors>
            <vertex-buffer-layout-descriptor stride="48" step-function="PerVertex" step-rate="1" />
        </vertex-buffer-layout-descriptors>
    </vertex-descriptor>
    
<!-- <texture-descriptor/> -->

    <sampler-descriptor key="sampler_desc"
        label="stencil-descriptor"
        min-filter="Linear"
        mag-filter="Linear"
        mip-filter="Linear"
        max-anisotropy="10"
        s-address-mode="Repeat"
        t-address-mode="MirrorRepeat"
        r-address-mode="ClampToZero"
        normalized-coordinates="false"
        lod-min-clamp="1.0"
        lod-max-clamp="10.0"
        lod-average="true"
        compare-function="Always" />
    
    <stencil-descriptor key="stencil_desc"
        stencil-compare-function="Never"
        stencil-failure-operation="Replace"
        depth-failure-operation="IncrementWrap"
        depth-stencil-pass-operation="DecrementWrap" />
        <!--    <xs:attribute name="read-mask" type="xs:integer" /> <!-- uint32 -->
        <!--    <xs:attribute name="write-mask" type="xs:integer" /> <!-- uint32 -->
    
    <depth-stencil-descriptor key="depth_stencil_desc"
        depth-compare-funciton="Never"
        depth-write-enabled="true" />
        <!--    <xs:attribute name="front-face-stencil-ref" type="xs:string" default="nil" />-->
        <!--    <xs:attribute name="back-face-stencil-ref" type="xs:string" default="nil" />-->

    <render-pipeline-color-attachment-descriptor key="color_attach_desc"
        blending-enabled="true"
        source-rgb-blend-factor="Zero"
        destination-rgb-blend-factor="SourceColor"
        rgb-blend-operation="Subtract"
        source-alpha-blend-factor="BlendAlpha"
        destination-alpha-blend-factor="OneMinusBlendAlpha"
        alpha-blend-operation="Max" />
        <!-- <xs:attribute name="pixel-format" type="mtlPixelFormat" /> -->
        <!-- <xs:attribute name="write-mask-ref" type="mtlColorWriteMask" default="All" /> -->

    <render-pipeline-descriptor key="render_pipeline_desc"
        label="render-pipeline-descriptor"
        sample-count="2"
        alpha-to-coverage-enabled="true"
        alpha-to-one-enabled="true"
        rasterization-enabled="false"
        depth-attachment-pixel-format="Depth32Float"
        stencil-attachment-pixel-format="Stencil8" />
        <!-- vertex-function-ref="" -->
        <!-- fragment-function-ref="" -->
        <!-- vertex-descriptor-ref="" -->
        <!-- colorAttachments: MTLRenderPipelineColorAttachmentDescriptorArray -->
        
    <compute-pipeline-descriptor key="compute_pipeline_desc"
        label="compute-pipeline-descriptor"
        thread-group-size-is-multiple-of-thread-execution-width="true" />
        <!-- compute-function-ref -->
    
    <render-pass-color-attachment-descriptor key="rpass_color_attach_desc"
        level="1"
        slice="1"
        depth-plane="1"
        resolve-level="1"
        resolve-slice="1"
        resolve-depth-plane="1"
        load-action="Load"
        store-action="Store" />
        <!-- clearColor -->
        <!-- texture? -->
        <!-- resolve-texture? -->
    
    <render-pass-depth-attachment-descriptor key="rpass_depth_attach_desc"
        level="1"
        slice="1"
        depth-plane="1"
        resolve-level="1"
        resolve-slice="1"
        resolve-depth-plane="1"
        load-action="Load"
        store-action="Store"
        clear-depth="2.0"
        depth-resolve-filter="Min" />
        <!-- texture? -->
        <!-- resolve-texture? -->
        
    <render-pass-stencil-attachment-descriptor key="rpass_stencil_attach_desc"
        level="1"
        slice="1"
        depth-plane="1"
        resolve-level="1"
        resolve-slice="1"
        resolve-depth-plane="1"
        load-action="Load"
        store-action="Store"
        clear-stencil="0" />
        <!-- texture? -->
        <!-- resolve-texture? -->
        
    <render-pass-descriptor key="render_pass_desc"
    
    />
</root>